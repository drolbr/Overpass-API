node(1101);out meta;
node(1102);out meta;

node(1201);out meta;
node(1202);out meta;
node(1203);out meta;

node(1301);out meta;
node(1302);out meta;
node(1303);out meta;
node(1304);out meta;

node(1401);out meta;
node(1402);out meta;
node(1403);out meta;
node(1404);out meta;

node(1501);out meta;
node(1502);out meta;
node(1503);out meta;
node(1504);out meta;
node(1505);out meta;

node(2101);out meta;
node(2102);out meta;
node(2103);out meta;

node(2201);out meta;
node(2202);out meta;
node(2203);out meta;
node(2204);out meta;
node(2205);out meta;
node(2206);out meta;

node(2301);out meta;
node(2302);out meta;
node(2303);out meta;
node(2304);out meta;
node(2305);out meta;
node(2306);out meta;

node(2401);out meta;
node(2402);out meta;
node(2403);out meta;

node(2501);out meta;
node(2502);out meta;
node(2503);out meta;
node(2504);out meta;
node(2505);out meta;
node(2506);out meta;

node(2601);out meta;
node(2602);out meta;
node(2603);out meta;
node(2604);out meta;
node(2605);out meta;
node(2606);out meta;
node(2607);out meta;
node(2608);out meta;


way(1101);out meta;
way(1102);out meta;
way(1103);out meta;

way(1201);out meta;
way(1202);out meta;
way(1203);out meta;

way(1301);out meta;
way(1302);out meta;
way(1303);out meta;
way(1304);out meta;

way(1401);out meta;
way(1402);out meta;
way(1403);out meta;
way(1404);out meta;

way(1501);out meta;
way(1502);out meta;
way(1503);out meta;
way(1504);out meta;
way(1505);out meta;

way(1601);out meta;
way(1602);out meta;
way(1603);out meta;

way(1701);out meta;
way(1702);out meta;
way(1703);out meta;

way(1801);out meta;
way(1802);out meta;
way(1803);out meta;

way(2101);out meta;
way(2102);out meta;
way(2103);out meta;

way(2201);out meta;
way(2202);out meta;
way(2203);out meta;
way(2204);out meta;
way(2205);out meta;
way(2206);out meta;

way(2301);out meta;
way(2302);out meta;
way(2303);out meta;
way(2304);out meta;
way(2305);out meta;
way(2306);out meta;

way(2401);out meta;
way(2402);out meta;
way(2403);out meta;

way(2501);out meta;
way(2502);out meta;
way(2503);out meta;
way(2504);out meta;
way(2505);out meta;
way(2506);out meta;

way(2601);out meta;
way(2602);out meta;
way(2603);out meta;
way(2604);out meta;
way(2605);out meta;
way(2606);out meta;
way(2607);out meta;
way(2608);out meta;


rel(1111);out meta;
rel(1112);out meta;
rel(1113);out meta;

rel(1121);out meta;
rel(1122);out meta;
rel(1123);out meta;

rel(1131);out meta;
rel(1132);out meta;
rel(1133);out meta;

rel(1141);out meta;
rel(1142);out meta;
rel(1143);out meta;

rel(1171);out meta;
rel(1172);out meta;
rel(1173);out meta;

rel(1201);out meta;
rel(1202);out meta;
rel(1203);out meta;

rel(1311);out meta;
rel(1312);out meta;
rel(1313);out meta;
rel(1314);out meta;

rel(1321);out meta;
rel(1322);out meta;
rel(1323);out meta;
rel(1324);out meta;
rel(1325);out meta;
rel(1326);out meta;
rel(1327);out meta;

rel(1331);out meta;
rel(1332);out meta;
rel(1333);out meta;
rel(1334);out meta;

rel(1411);out meta;
rel(1412);out meta;
rel(1413);out meta;
rel(1414);out meta;

rel(1421);out meta;
rel(1422);out meta;
rel(1423);out meta;
rel(1424);out meta;
rel(1425);out meta;
rel(1426);out meta;
rel(1427);out meta;

rel(1431);out meta;
rel(1432);out meta;
rel(1433);out meta;
rel(1434);out meta;

rel(1501);out meta;
rel(1502);out meta;
rel(1503);out meta;
rel(1504);out meta;
rel(1505);out meta;

rel(1611);out meta;
rel(1612);out meta;
rel(1613);out meta;

rel(1621);out meta;
rel(1622);out meta;
rel(1623);out meta;

rel(1631);out meta;
rel(1632);out meta;
rel(1633);out meta;

rel(1641);out meta;
rel(1642);out meta;
rel(1643);out meta;

rel(1671);out meta;
rel(1672);out meta;
rel(1673);out meta;

rel(1711);out meta;
rel(1712);out meta;
rel(1713);out meta;

rel(1721);out meta;
rel(1722);out meta;
rel(1723);out meta;

rel(1731);out meta;
rel(1732);out meta;
rel(1733);out meta;

rel(1741);out meta;
rel(1742);out meta;
rel(1743);out meta;

rel(1771);out meta;
rel(1772);out meta;
rel(1773);out meta;

rel(1811);out meta;
rel(1812);out meta;
rel(1813);out meta;

rel(1821);out meta;
rel(1822);out meta;
rel(1823);out meta;

rel(1831);out meta;
rel(1832);out meta;
rel(1833);out meta;

rel(1841);out meta;
rel(1842);out meta;
rel(1843);out meta;

rel(1871);out meta;
rel(1872);out meta;
rel(1873);out meta;

rel(1901);out meta;
rel(1911);out meta;
rel(1921);out meta;
rel(1922);out meta;
rel(1941);out meta;

rel(2101);out meta;
rel(2102);out meta;
rel(2103);out meta;

rel(2201);out meta;
rel(2202);out meta;
rel(2203);out meta;
rel(2204);out meta;
rel(2205);out meta;
rel(2206);out meta;

rel(2301);out meta;
rel(2302);out meta;
rel(2303);out meta;
rel(2304);out meta;
rel(2305);out meta;
rel(2306);out meta;

rel(2401);out meta;
rel(2402);out meta;
rel(2403);out meta;

rel(2501);out meta;
rel(2502);out meta;
rel(2503);out meta;
rel(2504);out meta;
rel(2505);out meta;
rel(2506);out meta;

rel(2601);out meta;
rel(2602);out meta;
rel(2603);out meta;
rel(2604);out meta;
rel(2605);out meta;
rel(2606);out meta;
rel(2607);out meta;
rel(2608);out meta;


make marker test="output styles";out;

node(11011);out ids;
rel(1332);out ids;
node(11012);out ids;
rel(1332);out ids qt;
node(12011);out ids;
rel(1332);out ids center;
node(12012);out ids;
rel(1332);out ids qt center;
node(13011);out ids;
rel(1332);out ids bb;
node(13012);out ids;
rel(1332);out ids qt bb;
node(14011);out ids;
rel(1332);out ids geom;
node(14012);out ids;
rel(1332);out ids qt geom;

node(11011);out ids;
rel(1332);out tags;
node(11012);out ids;
rel(1332);out tags qt;
node(12011);out ids;
rel(1332);out tags center;
node(12012);out ids;
rel(1332);out tags qt center;
node(13011);out ids;
rel(1332);out tags bb;
node(13012);out ids;
rel(1332);out tags qt bb;
node(14011);out ids;
rel(1332);out tags geom;
node(14012);out ids;
rel(1332);out tags qt geom;

node(11011);out ids;
rel(1332);out skel;
node(11012);out ids;
rel(1332);out skel qt;
node(12011);out ids;
rel(1332);out skel center;
node(12012);out ids;
rel(1332);out skel qt center;
node(13011);out ids;
rel(1332);out skel bb;
node(13012);out ids;
rel(1332);out skel qt bb;
node(14011);out ids;
rel(1332);out skel geom;
node(14012);out ids;
rel(1332);out skel qt geom;

node(11011);out ids;
rel(1332);out body;
node(11012);out ids;
rel(1332);out body qt;
node(12011);out ids;
rel(1332);out body center;
node(12012);out ids;
rel(1332);out body qt center;
node(13011);out ids;
rel(1332);out body bb;
node(13012);out ids;
rel(1332);out body qt bb;
node(14011);out ids;
rel(1332);out body geom;
node(14012);out ids;
rel(1332);out body qt geom;

node(11011);out ids;
(rel(1332);>;);out ids;
node(11012);out ids;
(rel(1332);>;);out ids qt;
node(12011);out ids;
(rel(1332);>;);out ids center;
node(12012);out ids;
(rel(1332);>;);out ids qt center;
node(13011);out ids;
(rel(1332);>;);out ids bb;
node(13012);out ids;
(rel(1332);>;);out ids qt bb;
node(14011);out ids;
(rel(1332);>;);out ids geom;
node(14012);out ids;
(rel(1332);>;);out ids qt geom;

node(11011);out ids;
(rel(1332);>;);out tags;
node(11012);out ids;
(rel(1332);>;);out tags qt;
node(12011);out ids;
(rel(1332);>;);out tags center;
node(12012);out ids;
(rel(1332);>;);out tags qt center;
node(13011);out ids;
(rel(1332);>;);out tags bb;
node(13012);out ids;
(rel(1332);>;);out tags qt bb;
node(14011);out ids;
(rel(1332);>;);out tags geom;
node(14012);out ids;
(rel(1332);>;);out tags qt geom;

node(11011);out ids;
(rel(1332);>;);out skel;
node(11012);out ids;
(rel(1332);>;);out skel qt;
node(12011);out ids;
(rel(1332);>;);out skel center;
node(12012);out ids;
(rel(1332);>;);out skel qt center;
node(13011);out ids;
(rel(1332);>;);out skel bb;
node(13012);out ids;
(rel(1332);>;);out skel qt bb;
node(14011);out ids;
(rel(1332);>;);out skel geom;
node(14012);out ids;
(rel(1332);>;);out skel qt geom;

node(11011);out ids;
(rel(1332);>;);out body;
node(11012);out ids;
(rel(1332);>;);out body qt;
node(12011);out ids;
(rel(1332);>;);out body center;
node(12012);out ids;
(rel(1332);>;);out body qt center;
node(13011);out ids;
(rel(1332);>;);out body bb;
node(13012);out ids;
(rel(1332);>;);out body qt bb;
node(14011);out ids;
(rel(1332);>;);out body geom;
node(14012);out ids;
(rel(1332);>;);out body qt geom;


way(1302);out geom(0,0,1,1);
way(1302);out geom(-90,-180,90,180);
way(1302);out geom(10,3.02,10,3.03);

rel(1332);out geom(0,0,1,1);
rel(1332);out geom(-90,-180,90,180);
rel(1332);out geom(10,3.02001,11,3.02011);


make marker test="bbox queries";out;

node(0,0,30,40);out meta;
way(0,0,30,40); out meta;
rel(0,0,30,40); out meta;

node(10,1,10.1,1.1);out meta;
way(10,1,10.1,1.1); out meta;
rel(10,1,10.8,1.1); out meta;

node(10,2,10.1,2.1);out meta;
way(10,2,10.1,2.1); out meta;
rel(10,2,10.8,2.1); out meta;

node(10,3,10.1,3.1);out meta;
way(10,3,10.1,3.1); out meta;
rel(10,3,10.8,3.1); out meta;

node(10,4,10.1,4.1);out meta;
way(10,4,10.1,4.1); out meta;
rel(10,4,10.8,4.1); out meta;

node(10,5,10.1,5.1);out meta;
way(10,5,10.1,5.1); out meta;
rel(10,5,10.8,5.1); out meta;

node(10,6,10.1,6.1);out meta;
way(10,6,10.1,6.1); out meta;
rel(10,6,10.8,6.1); out meta;

node(10,7,10.1,7.1);out meta;
way(10,7,10.1,7.1); out meta;
rel(10,7,10.8,7.1); out meta;

node(10,8,10.1,8.1);out meta;
way(10,8,10.1,8.1); out meta;
rel(10,8,10.8,8.1); out meta;

node(10.1,9,10.8,9.1); out meta;
way(10.1,9,10.8,9.1); out meta;
rel(10,9,10.8,9.1); out meta;

node(11,1,11.1,1.1);out meta;
way(11,1,11.1,1.1); out meta;
rel(11,1,11.1,1.1); out meta;

node(11,2,11.1,2.1);out meta;
way(11,2,11.1,2.1); out meta;
rel(11,2,11.1,2.1); out meta;

node(11,3,11.1,3.1);out meta;
way(11,3,11.1,3.1); out meta;
rel(11,3,11.1,3.1); out meta;

node(11,4,11.1,4.1);out meta;
way(11,4,11.1,4.1); out meta;
rel(11,4,11.1,4.1); out meta;

node(11,5,11.1,5.1);out meta;
way(11,5,11.1,5.1); out meta;
rel(11,5,11.1,5.1); out meta;

node(11,6,11.1,6.1);out meta;
way(11,6,11.1,6.1); out meta;
rel(11,6,11.1,6.1); out meta;

rel(11.2,9,11.3,9.1); out meta;

node(10,14,10.1,14.1);out meta;
way(10,14,10.1,14.1); out meta;

node(10,15,10.1,15.1);out meta;
way(10,15,10.1,15.1); out meta;
rel(10,15,10.1,15.1); out meta;

node(10,24,10.1,24.1);out meta;
way(10,24,10.1,24.1); out meta;

node(10,25,10.1,25.1);out meta;
way(10,25,10.1,25.1); out meta;
rel(10,25,10.1,25.1); out meta;

node(10,35,10.1,35.1);out meta;
way(10,35,10.1,35.1); out meta;

node(20,4,20.1,4.1);out meta;
way(20,4,20.1,4.1); out meta;

node(20,5,20.1,5.1);out meta;
way(20,5,20.1,5.1); out meta;
rel(20,5,20.1,5.1); out meta;

node(20,14,20.1,14.1);out meta;
way(20,14,20.1,14.1); out meta;


make marker test="tag queries";out;

node(11011);out ids;
node["foo"="bar_1101"];out meta;
node(11012);out ids;
node["faa_1"="baz_1"];out meta;
node(11013);out ids;
node["faa_1"="baz"];out meta;
node(12011);out ids;
node["sense"="no"]["foo_1"="bar"];out meta;
node(12012);out ids;
node["foo_1"="bar"]["sense"];out meta;
node(12013);out ids;
node["faa_2"="baz"]["fee_2"]["sense"];out meta;
node(12021);out ids;
node["fee_2"];out meta;
node(12022);out ids;
node["foo_1101"="bar"]["foo"~"^bar_"];out meta;
node(12023);out ids;
node["foo_1101"="bar"]["foo"~"^bar_"]["foo"~"_1[123]..$"];out meta;
node(12031);out ids;
node["foo"~"_1[45]..$"];out meta;
node(12032);out ids;
node["sense"!="no"];out meta;
node(12033);out ids;
node["sense"!="no"]["foo_1"!="bar"];out meta;
node(13011);out ids;
node["sense"!~"."];out meta;
node(13012);out ids;
node["sense"!~"."]["foo_1"!~"."];out meta;
node(13013);out ids;
node["sense"!~"."]["foo_1"!="bar"];out meta;


node(11011);out ids;
node(10.99,5.0,11.01,5.07)[changes];out meta;
node(11012);out ids;
node(10.99,5.0,11.01,5.07)[changes~"no|yes"];out meta;
node(11013);out ids;
node(10.99,5.0,11.01,5.07)[changes!~"no|yes"];out meta;
node(12011);out ids;
node(10.99,6.0,11.01,6.07)[empty_value~"^$"];out meta;
node(12012);out ids;
node(10.99,6.0,11.01,6.07)[empty_value!~"^$"];out meta;
node(12013);out ids;
node(10.99,6.0,11.01,6.07)[multiple_values~"first"];out meta;
node(12021);out ids;
node(10.99,6.0,11.01,6.07)[multiple_values~"second"];out meta;
node(12022);out ids;
node(10.99,6.0,11.01,6.07)[multiple_values!~"first"][multiple_values!~"no"];out meta;
node(12023);out ids;
node(10.99,5.0,11.01,5.07)[changes~"^y"][changes~"..."];out meta;
node(12031);out ids;
node(10.99,3.0,11.01,3.07)["faa_2"~"new_vaa"]["fee_2"~"bez"];out meta;
node(12032);out ids;
node(10.99,3.0,11.01,3.07)["faa_2"~"new_vaa"]["fee_2"!~"new_vee"];out meta;
node(12033);out ids;
node(10.99,5.0,11.01,5.07)[changes][changes!~"^y"];out meta;


make marker test="recurse";out;

node(11011);out ids;
way(1302);node(w);out meta;
way(1402);node(w);out meta;
way(1602);node(w);out meta;
way(1702);node(w);out meta;
way(1802);node(w);out meta;
way(1911);node(w:1,-1);out;
way(1912);node(w:1,4);out;
way(1911);node(w:-2,2);out;
node(19113);way(bn:-2,1);out ids;
node(19121);way(bn:1,-1);out ids;
node(19111);way(bn:-5,5);out ids;
node(11012);out ids;
way(1302);node(10,3,10.2,3.2)(w);out meta;
way(1402);node(10,4,10.2,4.2)(w);out meta;
way(1602);node(10,6,10.2,6.2)(w);out meta;
way(1702);node(10,7,10.2,7.2)(w);out meta;
way(1802);node(10,8,10.2,8.2)(w);out meta;

node(11011);out ids;
rel(1312);node(r);out meta;
rel(1412);node(r);out meta;
rel(1612);node(r);out meta;
rel(1712);node(r);out meta;
rel(1812);node(r);out meta;
node(11012);out ids;
rel(1312);node(10,3,10.2,3.2)(r);out meta;
rel(1412);node(10,4,10.2,4.2)(r);out meta;
rel(1612);node(10,6,10.2,6.2)(r);out meta;
rel(1712);node(10,7,10.2,7.2)(r);out meta;
rel(1812);node(10,8,10.2,8.2)(r);out meta;

node(11011);out ids;
rel(1322);way(r);out meta;
rel(1422);way(r);out meta;
rel(1622);way(r);out meta;
rel(1722);way(r);out meta;
rel(1822);way(r);out meta;
node(11022);out ids;
rel(1322);way(10.2,3,10.3,3.2)(r);out meta;
rel(1422);way(10.2,4,10.3,4.2)(r);out meta;
rel(1622);way(10.2,6,10.3,6.2)(r);out meta;
rel(1722);way(10.2,7,10.3,7.2)(r);out meta;
rel(1822);way(10.2,8,10.3,8.2)(r);out meta;

node(11011);out ids;
way(1302);>;out meta;
way(1402);>;out meta;
way(1602);>;out meta;
way(1702);>;out meta;
way(1802);>;out meta;
node(11012);out ids;
rel(1332);>;out meta;
rel(1432);>;out meta;
rel(1632);>;out meta;
rel(1732);>;out meta;
rel(1832);>;out meta;
node(11013);out ids;
(rel(1332);way(1302););>;out meta;
(rel(1432);way(1402););>;out meta;
(rel(1632);way(1602););>;out meta;
(rel(1732);way(1702););>;out meta;
(rel(1832);way(1802););>;out meta;

node(11011);out ids;
rel(1642);rel(r);out meta;
rel(1742);rel(r);out meta;
rel(1842);rel(r);out meta;
node(11012);out ids;
rel(1642);rel(10.3,6,10.4,6.2)(r);out meta;
rel(1742);rel(10.3,7,10.4,7.2)(r);out meta;
rel(1842);rel(10.3,8,10.4,8.2)(r);out meta;

node(11011);out ids;
rel(1172);nwr(r);out meta;
rel(1672);nwr(r);out meta;
rel(1772);nwr(r);out meta;
rel(1872);nwr(r);out meta;
node(11013);out ids;
rel(1172);nwr(10.7,1,10.8,1.2)(r);out meta;
rel(1672);nwr(10.7,6,10.8,6.2)(r);out meta;
rel(1772);nwr(10.7,7,10.8,7.2)(r);out meta;
rel(1872);nwr(10.7,8,10.8,8.2)(r);out meta;

node(11011);out ids;
way(1302);>>;out meta;
node(11012);out ids;
rel(3000);>>;out meta;
node(11013);out ids;
(rel(3000);way(1302););>>;out meta;

node(11011);out ids;
node(12021);way(bn);out meta;
node(13021);way(bn);out meta;
node(14021);way(bn);out meta;
node(16021);way(bn);out meta;
node(17021);way(bn);out meta;
node(18021);way(bn);out meta;
node(11012);out ids;
node(12023);way(bn);out meta;
node(13023);way(bn);out meta;
node(14023);way(bn);out meta;
node(16024);way(bn);out meta;
node(17024);way(bn);out meta;
node(18024);way(bn);out meta;
node(11013);out ids;
(node(12021);node(12023););way(bn);out meta;
(node(13021);node(13023););way(bn);out meta;
(node(14021);node(14023););way(bn);out meta;
(node(16021);node(16024););way(bn);out meta;
(node(17021);node(17024););way(bn);out meta;
(node(18021);node(18024););way(bn);out meta;

node(11011);out ids;
node(12021);way(bn)[foo];out meta;
node(13021);way(bn)[foo];out meta;
node(14021);way(bn)[foo];out meta;
node(16021);way(bn)[foo];out meta;
node(17021);way(bn)[foo];out meta;
node(18021);way(bn)[foo];out meta;
node(11012);out ids;
node(12023);way(bn)[foo];out meta;
node(13023);way(bn)[foo];out meta;
node(14023);way(bn)[foo];out meta;
node(16024);way(bn)[foo];out meta;
node(17024);way(bn)[foo];out meta;
node(18024);way(bn)[foo];out meta;
node(11013);out ids;
(node(12021);node(12023););way(bn)[foo];out meta;
(node(13021);node(13023););way(bn)[foo];out meta;
(node(14021);node(14023););way(bn)[foo];out meta;
(node(16021);node(16024););way(bn)[foo];out meta;
(node(17021);node(17024););way(bn)[foo];out meta;
(node(18021);node(18024););way(bn)[foo];out meta;

node(11011);out ids;
node(120210);rel(bn);out meta;
node(131210);rel(bn);out meta;
node(141210);rel(bn);out meta;
node(161210);rel(bn);out meta;
node(171210);rel(bn);out meta;
node(181210);rel(bn);out meta;
node(11012);out ids;
node(120220);rel(bn);out meta;
node(131220);rel(bn);out meta;
node(141220);rel(bn);out meta;
node(161230);rel(bn);out meta;
node(171230);rel(bn);out meta;
node(181230);rel(bn);out meta;
node(11013);out ids;
(node(120210);node(120220););rel(bn);out meta;
(node(131210);node(131220););rel(bn);out meta;
(node(141210);node(141220););rel(bn);out meta;
(node(161210);node(161230););rel(bn);out meta;
(node(171210);node(171230););rel(bn);out meta;
(node(181210);node(181230););rel(bn);out meta;

node(11011);out ids;
node(120210);rel[foo](bn);out meta;
node(131210);rel[foo](bn);out meta;
node(141210);rel[foo](bn);out meta;
node(161210);rel[foo](bn);out meta;
node(171210);rel[foo](bn);out meta;
node(181210);rel[foo](bn);out meta;
node(11012);out ids;
node(120220);rel[foo](bn);out meta;
node(131220);rel[foo](bn);out meta;
node(141220);rel[foo](bn);out meta;
node(161230);rel[foo](bn);out meta;
node(171230);rel[foo](bn);out meta;
node(181230);rel[foo](bn);out meta;
node(11013);out ids;
(node(120210);node(120220););rel[foo](bn);out meta;
(node(131210);node(131220););rel[foo](bn);out meta;
(node(141210);node(141220););rel[foo](bn);out meta;
(node(161210);node(161230););rel[foo](bn);out meta;
(node(171210);node(171230););rel[foo](bn);out meta;
(node(181210);node(181230););rel[foo](bn);out meta;

node(11011);out ids;
way(13221);rel(bw);out meta;
way(14221);rel(bw);out meta;
way(16221);rel(bw);out meta;
way(17221);rel(bw);out meta;
way(18221);rel(bw);out meta;
node(11012);out ids;
way(13222);rel(bw);out meta;
way(14222);rel(bw);out meta;
way(16223);rel(bw);out meta;
way(17223);rel(bw);out meta;
way(18223);rel(bw);out meta;
node(11013);out ids;
(way(13221);way(13222););rel(bw);out meta;
(way(14221);way(14222););rel(bw);out meta;
(way(16221);way(16223););rel(bw);out meta;
(way(17221);way(17223););rel(bw);out meta;
(way(18221);way(18223););rel(bw);out meta;

node(11011);out ids;
way(13221);rel[foo](bw);out meta;
way(14221);rel[foo](bw);out meta;
way(16221);rel[foo](bw);out meta;
way(17221);rel[foo](bw);out meta;
way(18221);rel[foo](bw);out meta;
node(11012);out ids;
way(13222);rel[foo](bw);out meta;
way(14222);rel[foo](bw);out meta;
way(16223);rel[foo](bw);out meta;
way(17223);rel[foo](bw);out meta;
way(18223);rel[foo](bw);out meta;
node(11013);out ids;
(way(13221);way(13222););rel[foo](bw);out meta;
(way(14221);way(14222););rel[foo](bw);out meta;
(way(16221);way(16223););rel[foo](bw);out meta;
(way(17221);way(17223););rel[foo](bw);out meta;
(way(18221);way(18223););rel[foo](bw);out meta;

node(11011);out ids;
node(132111);<;out meta;
node(161210);<;out meta;
way(16221);<;out meta;
node(163211);<;out meta;
node(11012);out ids;
(node(161210);way(16221);node(163211););<;out meta;
node(11013);out ids;
(node(163210);way(16321);node(163211););<;out meta;

node(11011);out ids;
rel(16421);rel(br);out meta;
rel(17421);rel(br);out meta;
rel(18421);rel(br);out meta;
node(11012);out ids;
rel(16423);rel(br);out meta;
rel(17423);rel(br);out meta;
rel(18423);rel(br);out meta;
node(11013);out ids;
(rel(16421);rel(16423););rel(br);out meta;
(rel(17421);rel(17423););rel(br);out meta;
(rel(18421);rel(18423););rel(br);out meta;

node(11011);out ids;
rel(16421);rel[foo](br);out meta;
rel(17421);rel[foo](br);out meta;
rel(18421);rel[foo](br);out meta;
node(11012);out ids;
rel(16423);rel[foo](br);out meta;
rel(17423);rel[foo](br);out meta;
rel(18423);rel[foo](br);out meta;
node(11013);out ids;
(rel(16421);rel(16423););rel[foo](br);out meta;
(rel(17421);rel(17423););rel[foo](br);out meta;
(rel(18421);rel(18423););rel[foo](br);out meta;

node(11011);out ids;
node(132111);<<;out meta;
node(161210);<<;out meta;
way(16221);<<;out meta;
node(163211);<<;out meta;
rel(16423);<<;out meta;
node(11012);out ids;
(node(161210);way(16221);node(163211);rel(16423););<<;out meta;
node(11013);out ids;
(node(167210);way(16721);node(167211);rel(16723););<<;out meta;

node(11011);out ids;
rel(1612);node(r:"");out meta;
rel(1622);way(r:"");out meta;
rel(1941);rel(r:"initial");out meta;
rel(1672);nwr(r:"");out meta;
node(11011);out ids;
rel(1672);nwr(r:"none");out meta;
node(11012);out ids;
node(120210);rel(bn:"");out meta;
node(11013);out ids;
way(13221);rel(bw:"");out meta;
node(12011);out ids;
rel(1612);node(r:"foo");out meta;
rel(1622);way(r:"foo");out meta;
rel(1941);rel(r:"intermediate");out meta;
node(12012);out ids;
node(120210);rel(bn:"foo");out meta;
node(11013);out ids;
way(13221);rel(bw:"foo");out meta;

make marker test="contains queries";out;

node(around:2500,10.0,4.0);out meta;
way(around:2500,10.0,4.0);out meta;
node(11011);out ids;
rel(around:1,10.301,4.02);out meta;
node(11011);out ids;
rel(around:100,20.2,4.0203);out meta;

node(11011);out ids;
node(1402);node(around:1500);out meta;
node(11011);out ids;
way(1402);node(around:1500);out meta;
node(11011);out ids;
rel(1432);node(around:1500);out meta;

node(poly:"10.0 4.0 10.02 4.0 10.02 4.02 10.0 4.02");out meta;
way(poly:"10.0 4.0 10.02 4.0 10.02 4.02 10.0 4.02");out meta;
node(11011);out ids;
rel(poly:"10.3 4.019 10.302 4.019 10.302 4.021 10.3 4.021");out meta;
node(11011);out ids;
rel(poly:"10.3 4.019 10.302 4.019 10.302 4.021 10.3 4.021");out meta;

make marker test="user with bounding box";out;

node(uid:42)(10,4,10.1,4.1);out meta;
way(uid:42)(10,4,10.1,4.1);out meta;
rel(uid:42)(10,5,10.1,5.1);out meta;

make marker test="touched global";out;
nwr(user_touched:"bar");out meta;

make marker test="touched with bounding box";out;
nwr(user_touched:"bar")(10,4,10.1,5.5);out meta;

make marker test="various queries";out;

node(10,0,20,10)(newer:"2013-07-01T09:03:15Z");out meta;
way(10,0,20,10)(newer:"2013-07-01T09:03:15Z");out meta;
rel(10,0,20,10)(newer:"2013-07-01T09:03:15Z");out meta;

node(11011);out ids;
node[~"f(aa|ee)"~"."];out meta;
way[~"f(aa|ee)"~"."];out meta;
rel[~"f(aa|ee)"~"."];out meta;
node(11012);out ids;
node[~"f(aa|ee)"~"."][~"sense"~"."];out meta;
way[~"f(aa|ee)"~"."][~"sense"~"."];out meta;
rel[~"f(aa|ee)"~"."][~"sense"~"."];out meta;
node(12011);out ids;
node(10.9,2,11.1,3.03)[~"f(aa|ee)"~"."];out meta;
way(10.9,2,11.1,3.03)[~"f(aa|ee)"~"."];out meta;
rel(10.9,2,11.1,3.03)[~"f(aa|ee)"~"."];out meta;
node(12012);out ids;
node(10.9,2,11.1,3.03)[~"f(aa|ee)"~"."][~"sense"~"."];out meta;
way(10.9,2,11.1,3.03)[~"f(aa|ee)"~"."][~"sense"~"."];out meta;
rel(10.9,2,11.1,3.03)[~"f(aa|ee)"~"."][~"sense"~"."];out meta;
node(11011);out ids;
node["sense"="no"][~"f(aa|ee)"~"."];out meta;
way["sense"="no"][~"f(aa|ee)"~"."];out meta;
rel["sense"="no"][~"f(aa|ee)"~"."];out meta;
node(11012);out ids;
node["sense"="no"][~"f(aa|ee)"~"."][~"sense"~"."];out meta;
way["sense"="no"][~"f(aa|ee)"~"."][~"sense"~"."];out meta;
rel["sense"="no"][~"f(aa|ee)"~"."][~"sense"~"."];out meta;
node(12011);out ids;
node["sense"="no"](10.9,2,11.1,3.03)[~"f(aa|ee)"~"."];out meta;
way["sense"="no"](10.9,2,11.1,3.03)[~"f(aa|ee)"~"."];out meta;
rel["sense"="no"](10.9,2,11.1,3.03)[~"f(aa|ee)"~"."];out meta;
node(12012);out ids;
node["sense"="no"](10.9,2,11.1,3.03)[~"f(aa|ee)"~"."][~"sense"~"."];out meta;
way["sense"="no"](10.9,2,11.1,3.03)[~"f(aa|ee)"~"."][~"sense"~"."];out meta;
rel["sense"="no"](10.9,2,11.1,3.03)[~"f(aa|ee)"~"."][~"sense"~"."];out meta;

node(11,5,11.1,5.1);
convert meta ::id=id(), type=type(), version=version(), timestamp=timestamp(), changeset=changeset(), uid=uid(), user=user();
out;
way(11,5,11.1,5.1);
convert meta ::id=id(), type=type(), version=version(), timestamp=timestamp(), changeset=changeset(), uid=uid(), user=user();
out;
rel(11,5,11.1,5.1);
convert meta ::id=id(), type=type(), version=version(), timestamp=timestamp(), changeset=changeset(), uid=uid(), user=user();
out;

way(id:1303,1403,1503,1603,1703,1803);
convert geometry ::id=id(), type=type(), length=length();
out;
rel(id:1333,1433,1673,1773,1873,1922);
convert geometry ::id=id(), type=type(), length=length();
out;

way(id:1911,1912);
convert per_member
    refpos=per_member(pos()+":"+ref()),
    vertexrefos=per_vertex(pos()+":"+ref()),
    angleref=per_vertex(ref()+":"+angle());
out;

node(id:1302,1402);
make two_aggregators first=set(changeset() + " "),second=set(changeset() + " ");
out;

(node[foo];way[foo];rel[foo];)->.orig;
for.orig(version())
{
  make for_test ver=u(version()),per_val=_.val,refs=set("{"+type()+","+id()+"}");
  (._;.result;)->.result;
}
.result out;
.empty->.result;
for.orig(keys())
{
  if (count(nodes)+count(ways)+count(relations) > 1)
  {
    make for_keys_test
      key=_.val,values=set(t[_.val]),
      count=count(nodes)+";"+count(ways)+";"+count(relations)+";"+count(deriveds),
      length=sum(length());
    (._;.result;)->.result;
  }
}
.result out;
